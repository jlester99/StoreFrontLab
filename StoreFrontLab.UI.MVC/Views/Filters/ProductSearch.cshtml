@model IEnumerable<DATA.EF.Product>

@{
    ViewBag.Title = "ProductSearch";
}

<h2>@ViewBag.Title</h2>

<div class="row-border panel-body panel-primary">
    <form method="get" action="~/Filters/ProductSearch" class="form-horizontal pull-left">
        @*
            Form methods:
            Post - form data is sent in the body of the HttpRequest
            - used typically when creating a record, or sending an email

            Get - form data is sent in the query string in key/value pairs
            - primarily used for searches/filters

        *@
        <div class="form-group">
            <div class="row">
            <div class="col-xs-offset-1 col-xs-11 col-sm-offset-0 col-sm-2">
                <label for="searchFilter">Search Products</label>
            </div>

            <div class="col-xs-offset-1 col-xs-11 col-sm-offset-0 col-sm-7">
                <input type="text" name="searchFilter" />

                @Html.DropDownList("CategoryID", null, "Select a Category", htmlAttributes: new { @class = "form-control" })
            </div>

            <div class="col-xs-offset-1 col-xs-11 col-sm-offset-0 col-sm-2">
                <input type="submit" value="Go!" class="btn btn-primary" />
            </div>
        </div>
            </div>


    </form>
</div>


<table class="table data-table table-striped">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.ProductName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ProductImage)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Description)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.UnitPrice)
        </th>
        @*<th>
            @Html.DisplayNameFor(model => model.TotalUnitsSold)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.TotalSales)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.UnitsInStock)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.UnitsOnOrder)
        </th>*@
        <th>
            @Html.DisplayNameFor(model => model.Category.Description)
        </th>
        @*<th>
            @Html.DisplayNameFor(model => model.Shipper.Name)
        </th>*@
        <th>
            @Html.DisplayNameFor(model => model.StockStatus.Description)
        </th>
        @*<th>
            @Html.DisplayNameFor(model => model.Supplier.Name)
        </th>*@
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.ProductName)
        </td>
        <td>
            @*@Html.DisplayFor(modelItem => item.ProductImage)*@
            <img src="~/Content/assets/img/t_@item.ProductImage" alt="Product image" title="@item.ProductName" />
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Description)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.UnitPrice)
        </td>
        @*<td>
            @Html.DisplayFor(modelItem => item.TotalUnitsSold)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.TotalSales)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.UnitsInStock)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.UnitsOnOrder)
        </td>*@
        <td>
            @Html.DisplayFor(modelItem => item.Category.Description)
        </td>
        @*<td>
            @Html.DisplayFor(modelItem => item.Shipper.Name)
        </td>*@
        <td>
            @Html.DisplayFor(modelItem => item.StockStatus.Description)
        </td>
        @*<td>
            @Html.DisplayFor(modelItem => item.Supplier.Name)
        </td>*@
        <td>
            @Html.ActionLink("Edit", "Edit", new { id=item.ProductID }) |
            @Html.ActionLink("Details", "Details", new { id=item.ProductID }) |
            @Html.ActionLink("Delete", "Delete", new { id=item.ProductID })
        </td>
    </tr>
}

</table>
